### MYSQL数据类型与存储空间

##### 整型

| 类型      | 存储空间(字节) | 最小值（有符号） | 最小值（无符号） | 最大值（有符号） | 最大值（无符号） |
| --------- | -------------- | ---------------- | ---------------- | ---------------- | ---------------- |
| TINYINT   | 1              | -128             | 0                | 127              | 255              |
| SMALLINT  | 2              | -32768           | 0                | 32767            | 65535            |
| MEDIUMINT | 3              | -8388608         | 0                | 8388607          | 16777215         |
| INT       | 4              | -2147483648      | 0                | 2147483647       | 4294967295       |
| BIGINT    | 8              | $-2^{63}$      | 0                |  $2^{63}-1$      | $2^{64}-1$   |

##### 时间类型

| 时间日期类型 | 存储空间（字节） | 日期格式            | 最小值              | 最大值              |
| ------------ | ---------------- | ------------------- | ------------------- | ------------------- |
| DATETIME     | 8                | YYYY-MM-DD HH:MM:SS | 1000-01-01 00:00:00 | 9999-12-31 23:59:59 |
| TIMESTAMP    | 4                | YYYY-MM-DD HH:MM:SS | 19700101080001      | 2038年的某个时刻    |
| DATE         | 4                | YYYY-MM-DD          | 1000-01-01          | 9999-12-31          |
| TIME         | 3                | HH:MM:SS            | -838:59:59          | 838:59:59           |
| YEAR         | 1                | YYYY                | 1901                | 2155                |

##### 数字类型

| 时间日期类型 | 存储空间（字节） |
| ------------ | ---------------- |
| FLOAT        | 4                |
| DOUBLE       | 8                |
| DECIMAL      |                  |



### MySQL数据类型选择原则

##### 更小的通常更好

更小 数据类型通常更快，因为它们占用更少的磁盘、内存和CPU缓存，并且处理时需要的CPU周期也更少。

##### 简单就好

简单数据类型的操作通常需要更少的CPU周期。如，整型比字符操作代价更低，应该使用MySQL内建的类型而不是字符串来存储日期和时间，应用整型存储IP地址。

##### 尽量避免NULL

通常情况下最好指定列为NOT  NULL，除非真的需要存储NULL值。

#### 整型类型

如果存储整数，可以使用TINYINT，SMALLINT，MEDIUMINT，INT， BIGINT，分别使用8、16、24、32、64位存储空间，他们可以存储的范围从$-2^{N-1} $到$2^{N-1}-1$,其中N是存储空间的位数。

整型类型又有可选的UNSINGNED属性，表示不允许负值，这大致可以使得整数的上限提高一倍。

MySQL可以为整数类型指定宽度：该宽度大多没有意义，它不会限制值的合法范围，只是规定了MySQL的一些交互工具用来显示字符的个数。对于存储和计算来说，INT（1）和INT（20） 是一样的。

#### 实数类型

实数是带有小数部分的数字。

DECIMAL类型用于存储精确的小数，支持精确计算。因为CPU支持对DECIMAL的直接计算，所以MySQL服务器自身实现了DECMIAL的高精度计算。相对而言，CPU直接支持原生浮点计算，所以浮点运算明显更快。

浮点和DECIMAL都可以指定精度。对于DECIMAL列，可以指定小数点前后所允许的最大位数。这会影响列的空间消耗。MySQL将数字打包保存到一个二进制字符串中（每4个 字节存9个数字）。例如，DECIMAL（18,9）小数点两边将各存储9个数字，一共使用9个字节：小数点前的数字用4个字节，小数点后的数字用4个字节，小数点本身占1个字节。

DECIMAL类型允许最多64个数字，DECIMAL只是一种存储格式，在计算中DECIMAL会转换成DOUBLE类型。

浮点类型在存储同样范围的值时，通常比DECIMAL使用更少的空间。MySQL使用DOUBLE作为内部浮点计算的类型。

因为需要额外的空间和计算开销，所以应该尽量只在对小数进行精确计算时才是用DECIMAL。但在数据量表较大时，可以考虑使用BIGINT代替DECIMAL，只要乘以相应的倍数即可，这样可以同时避免浮点存储计算不精确和DECIMAL精确计算代价高的问题。

#### 字符串类型

